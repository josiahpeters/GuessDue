<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>GuessDue</title>
    <link rel="stylesheet" type="text/css" href="../less/bootstrap/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../custom.css" />
    <link rel="stylesheet" type="text/css" href="../less/rangeSlider.css" />
    <script src="../js/less-1.4.1.min.js" type="text/javascript"></script>
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">GuessDue</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#about">About</a></li>
                    <li><a href="#contact">Contact</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li><a href="#">Action</a></li>
                            <li><a href="#">Another action</a></li>
                            <li><a href="#">Something else here</a></li>
                            <li class="divider"></li>
                            <li class="dropdown-header">Nav header</li>
                            <li><a href="#">Separated link</a></li>
                            <li><a href="#">One more separated link</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            <!--/.navbar-collapse -->
        </div>
    </div>

    <div class="container">
        <div class="starter-template">Test</div>
        <div class="page-header">
            <h1>Sticky footer with fixed navbar</h1>
        </div>
        <div class="row">
            <div class="col-lg-4">
                <div class="list-group">
                    <a href="#Gender" class="list-group-item active section">Gender</a>
                    <a href="#Date" class="list-group-item section">Date</a>
                    <a href="#Time" class="list-group-item section">Time</a>
                    <a href="#Weight" class="list-group-item section">Weight</a>
                    <a href="#Length" class="list-group-item section">Length</a>
                    <a href="#Hair" class="list-group-item section">Hair</a>
                </div>
            </div>
            <div class="col-lg-8 sections">
                <div class="panel panel-default" id="Gender">
                    <div class="panel-heading">Gender</div>
                    <div class="panel-body">
                        <label for="gender">Which gender do you think Baby P. will be?</label>

                        <p>
                            <button type="button" class="btn btn-lg btn-default">Male</button>
                            <button type="button" class="btn btn-lg btn-default">Female</button>
                        </p>
                        <p>
                            <a href="#Date" class="btn btn-success section">Next</a>
                        </p>
                    </div>
                </div>

                <div class="panel panel-default" id="Date">
                    <div class="panel-heading">Date</div>
                    <div class="panel-body">
                        <label for="gender">On what date do you think Baby P. will be born on?</label>

                        <div id="calendar" class="calendar">
                        </div>
                        <p>
                            <a href="#Gender" class="btn btn-primary section">Back</a>
                            <a href="#Time" class="btn btn-success section">Next</a>
                        </p>
                    </div>
                </div>

                <div class="panel panel-default" id="Time">
                    <div class="panel-heading">Time</div>
                    <div class="panel-body">
                        <label for="gender">What hour of the day do you think Baby P. will be born during?</label>

                        <div id="hours" class="hours">
                        </div>
                        <p>
                            <a href="#Date" class="btn btn-primary section">Back</a>
                            <a href="#Weight" class="btn btn-success section">Next</a>
                        </p>
                    </div>
                </div>

                <div class="panel panel-default" id="Weight">
                    <div class="panel-heading">Weight</div>
                    <div class="panel-body">
                        <label for="weightSlider">What weight range do you think Baby P. will be born in?</label>
                        <p>
                            <div id="weightSlider"></div>
                        </p>
                        <p>
                            <a href="#Time" class="btn btn-primary section">Back</a>
                            <a href="#Length" class="btn btn-success section">Next</a>
                        </p>
                    </div>
                </div>

                <div class="panel panel-default" id="Length">
                    <div class="panel-heading">Length</div>
                    <div class="panel-body">
                        <label for="lengthSlider">What length range do you think Baby P. will be born in?</label>
                        <p>
                            <div id="lengthSlider"></div>
                        </p>
                        <p>
                            <a href="#Weight" class="btn btn-primary section">Back</a>
                            <a href="#Date" class="btn btn-success section">Next</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <hr>

        <footer>
            <p>&copy; Company 2013</p>
        </footer>
    </div>
    <!-- /container -->
    <script src="../js/jquery-2.0.3.min.js"></script>
    <script src="../js/jquery-ui-1.10.3.custom.js"></script>
    <script src="../js/rangeSlider.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script>

        var monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]; // Names of months for drop-down and formatting
        var monthNamesShort = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"]; // For formatting
        var dayNames = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]; // For formatting
        var dayNamesShort = ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"]; // For formatting
        var dayNamesMin = ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"]; // Column headings for days starting at Sunday

        $(document).ready(function ()
        {
            createCalendar();

            createHours();

            // custom eval function to convert our range numbers into pounds
            $("#weightSlider").rangeSlider({ min: 16, max: 208, range: 16, unitConversion: function (value) { return (value / 16).toFixed(1) + " lbs"; } });
            $("#lengthSlider").rangeSlider({ min: 15, max: 41, range: 2, unitConversion: function (value) { return (value).toFixed(1) + " in"; } });


            $(window).resize(function ()
            {
                $("#weightSlider").rangeSlider("resize");
                $("#lengthSlider").rangeSlider("resize");
            });

            $("a.section").click(function ()
            {
                var id = $(this).attr("href");

                $(".sections .panel:not(" + id + ")").hide();

                $(id).fadeIn();

                //$(".sections > .panel")

                //.fadeOut({
                //    done: function ()
                //    {
                //        $(id).fadeIn();

                //    }
                //});

            });

        });        

        function createHours()
        {
            var hours = $("#hours");

            var amHours = $('<div class="am-hours list-group col-lg-6"><p>Morning</p></div>');

            for (var i = 0; i < 12; i++)
            {
                var hour = i;

                if (i == 0)
                    hour = 12;
                amHours.append($('<a href="#" class="hours list-group-item">' + hour + 'am to ' + (i + 1) + 'am</a>'));
            }

            hours.append(amHours);

            var pmHours = $('<div class="pm-hours list-group col-lg-6"><p>Afternoon / Evening</p></div>');

            for (var i = 0; i < 12; i++)
            {
                var hour = i + 1;

                if (i == 0)
                    hour = 12;
                pmHours.append($('<a href="#" class="hours list-group-item">' + hour + 'pm</a>'));
            }

            hours.append(pmHours);


        }

        function createCalendar()
        {
            var weeksBeforeExpectedDate = 3;
            var weeksAfterExpectedDate = 3;

            var expectedDate = new Date("12/16/2013");

            var expectedYear = expectedDate.getFullYear();
            var expectedMonth = expectedDate.getMonth();
            var expectedMonthDate = expectedDate.getDate();
            var expectedDayOfWeek = expectedDate.getDay();

            var calendarStartDay = expectedMonthDate;

            if (expectedDayOfWeek > 0)
                calendarStartDay = expectedMonthDate - expectedDayOfWeek;

            // start the calendar 2 weeks before the expected date
            calendarStartDay -= weeksBeforeExpectedDate * 7;

            var calendarStartDate = new Date(expectedYear, expectedMonth, calendarStartDay);

            var week;
            var month;

            var calendar = $("#calendar");

            var days = $('<div class="days"></div>')

            for (var i = 0; i < 7; i++)
            {
                days.append('<div class="day">' + dayNamesShort[i] + '</div>');
            }

            calendar.append(days);

            for (var i = 0; i < (weeksBeforeExpectedDate * 7 + weeksAfterExpectedDate * 7) ; i++)
            {
                var newDate = new Date(expectedYear, expectedMonth, calendarStartDay + i);
                var item = $('<div class="day"></div>');

                var prefix = "";

                if (month != newDate.getMonth())
                {
                    prefix = monthNamesShort[newDate.getMonth()];
                    month = newDate.getMonth();
                }

                item.append(getHtml(prefix, newDate));

                if (newDate.getTime() == expectedDate.getTime())
                    item.addClass("expected");

                if (newDate.getDay() == 0)
                {
                    calendar.append(week);
                    week = $('<div class="week"></div>');
                }

                week.append(item);
            }

            calendar.append(week);
        }

        function getHtml(prefix, date)
        {
            if (prefix.length > 0)
                return $('<a href="#"><span class="prefix">' + prefix + '</span> ' + date.getDate() + '</a>');
            else
                return $('<a href="#">' + date.getDate() + '</a>');
        }
    </script>
</body>
</html>
